<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Salary Predictor</title>
    <style>
        body {
            font-family: Arial, Helvetica, sans-serif;
            background-color: white;
        }
        h1 {
            text-align: center;
            color: blueviolet;
        }
        h2 {
            text-align: center;
            color: black;
        }
        form {
            max-width: 500px;
            margin: 0 auto;
            background-color: rgba(250, 250, 250);
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 0 15px rgba(0, 0, 0);
        }
        label {
            display: block;
            margin-bottom: 15px;
            color: grey;
        }
        input[type="text"],
        input[type="number"],
        select {
            width: 100%;
            padding: 10px;
            margin-bottom: 15px;
            border: 1px solid #ccc;
            border-radius: 5px;
            box-sizing: border-box;
        }
        input[type="submit"] {
            background-color: #333;
            color: #fff;
            border: none;
            padding: 15px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s;
        }
        input[type="submit"]:hover {
            background-color: #555;
        }
        .container {
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            margin-bottom: 50px;
            font-family: 'Arial', serif;
            color: #777; 
        }
        tr {
            color: green;
        }
        td {
            color: orange;
        }
    </style>
</head>
<body>
    <h1>Salary Data</h1>
    <table border="1" cellspacing="0" cellpadding="5">
        <tr>
            <th>Work Year</th>
            <th>Experience Level</th>
            <th>Employment Type</th>
            <th>Job Title</th>
            <th>Salary Currency</th>
            <th>Salary in US Dollars</th>
            <th>Employee Residence</th>
            <th>Remote Ratio</th>
            <th>Company Location</th>
            <th>Company Size</th>
        </tr>
        <tr>
            <td>Data 1</td>
            <td>Data 2</td>
        </tr>
    </table>
    <h2>Salary Predictor</h2>
    <form id="salaryForm">
        <label for="workYear">Work Year:</label>
        <select id="workYear" name="workYear" required>
            <option value="2020">2020</option>
            <option value="2021">2021</option>
            <option value="2022">2022</option>
        </select>
        
        <label for="experienceLevel">Experience Level:</label>
        <select id="experienceLevel" name="experienceLevel" required>
            <option value="EN">Entry Level</option>
            <option value="MI">Mid Level</option>
            <option value="SE">Senior Level</option>
            <option value="EX">Expert Level</option>
        </select>
        
        <label for="employmentType">Employment Type:</label>
        <select id="employmentType" name="employmentType" required>
            <option value="FT">Full-Time</option>
        </select>
        
        <label for="jobTitle">Job Title:</label>
        <select id="jobTitle" name="jobTitle" required>
            <option value="Data Scientist">Data Scientist</option>
            <option value="Data Analyst">Data Analyst</option>
            <option value="Data Engineer">Data Engineer</option>
            <option value="Machine Learning Scientist">Machine Learning Scientist</option>
            <option value="Big Data Engineer">Big Data Engineer</option>
            <option value="Product Data Analyst">Product Data Analyst</option>
            <option value="Machine Learning Engineer">Machine Learning Engineer</option>
            <option value="Lead Data Scientist">Lead Data Scientist</option>
            <option value="Business Data Analyst">Business Data Analyst</option>
            <option value="Lead Data Engineer">Lead Data Engineer</option>
            <option value="Lead Data Analyst">Lead Data Analyst</option>
            <option value="Data Scientist Consultant">Data Scientist Consultant</option>
            <option value="BI Data Analyst">BI Data Analyst</option>
            <option value="Director of Data Science">Director of Data Science</option>
            <option value="Research Scientist">Research Scientist</option>
            <option value="Machine Learning Manager">Machine Learning Manager</option>
            <option value="Data Engineering Manager">Data Engineering Manager</option>
            <option value="Machine Learning Infrastructure Engineer">Machine Learning Infrastructure Engineer</option>
            <option value="ML Engineer">ML Engineer</option>
            <option value="AI Scientist">AI Scientist</option>
            <option value="Computer Vision Engineer">Computer Vision Engineer</option>
            <option value="Principal Data Scientist">Principal Data Scientist</option>
            <option value="Head of Data">Head of Data</option>
            <option value="3D Computer Vision Researcher">3D Computer Vision Researcher</option>
            <option value="Applied Data Scientist">Applied Data Scientist</option>
            <option value="Marketing Data Analyst">Marketing Data Analyst</option>
            <option value="Cloud Data Engineer">Cloud Data Engineer</option>
            <option value="Financial Data Analyst">Financial Data Analyst</option>
            <option value="Computer Vision Software Engineer">Computer Vision Software Engineer</option>
            <option value="Lead Data Scientist">Lead Data Scientist</option>
            <option value="Data Science Manager">Data Science Manager</option>
            <option value="Data Analytics Engineer">Data Analytics Engineer</option>
            <option value="Applied Machine Learning Scientist">Applied Machine Learning Scientist</option>
            <option value="Data Specialist">Data Specialist</option>
            <option value="Data Science Engineer">Data Science Engineer</option>
            <option value="Big Data Architect">Big Data Architect</option>
            <option value="Head of Data Science">Head of Data Science</option>
            <option value="Analytics Engineer">Analytics Engineer</option>
            <option value="Data Architect">Data Architect</option>
            <option value="Head of Machine Learning">Head of Machine Learning</option>
            <option value="ETL Developer">ETL Developer</option>
            <option value="Lead Machine Learning Engineer">Lead Machine Learning Engineer</option>
            <option value="Machine Learning Developer">Machine Learning Developer</option>
            <option value="Principal Data Analyst">Principal Data Analyst</option>
            <option value="Machine Learning Infrastructure Engineer">Machine Learning Infrastructure Engineer</option>
            <option value="NLP Engineer">NLP Engineer</option>
            <option value="Data Analytics Lead">Data Analytics Lead</option>
        </select>
        
        <label for="salaryCurrency">Salary Currency:</label>
        <select id="salaryCurrency" name="salaryCurrency" required>
            <option value="USD">USD</option>
            <option value="EUR">EUR</option>
            <option value="GBP">GBP</option>
            <option value="JPY">JPY</option>
            <option value="INR">INR</option>
        </select>
        
        <label for="usdSalary">Salary in US Dollars:</label>
        <input type="number" id="usdSalary" name="salary_in_usd" required>
        
        <label for="employeeResidence">Employee Residence:</label>
        <input type="text" id="employeeResidence" name="employee_residence" required>
        
        <label for="remoteRatio">Remote Ratio:</label>
        <input type="number" id="remoteRatio" name="remote_ratio" required>
        
        <label for="companyLocation">Company Location:</label>
        <input type="text" id="companyLocation" name="company_location" required>
        
        <label for="companySize">Company Size:</label>
        <input type="text" id="companySize" name="company_size" required>
        
        <button type="button" onclick="fetchFromPostman()">Predict Salary</button>
    </form>
    <div id="result"></div>
    <script>
        function fetchFromPostman() {
            var formData = {
                "work_year": document.getElementById("workYear").value,
                "experience_level": document.getElementById("experienceLevel").value,
                "employment_type": document.getElementById("employmentType").value,
                "job_title": document.getElementById("jobTitle").value,
                "salary_currency": document.getElementById("salaryCurrency").value,
                "salary_in_usd": parseFloat(document.getElementById("usdSalary").value),
                "employee_residence": document.getElementById("employeeResidence").value,
                "remote_ratio": parseInt(document.getElementById("remoteRatio").value),
                "company_location": document.getElementById("companyLocation").value,
                "company_size": document.getElementById("companySize").value
            };
        
            console.log("Form Data: ", formData);
        
            var raw = JSON.stringify(formData);
            var requestOptions = {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: raw,
                redirect: "follow"
            };
        
            fetch("http://127.0.0.1:8086/api/salaries/predict", requestOptions)
                .then(response => response.json())
                .then(data => {
                    console.log("API Response: ", data);
        
                    var resultDiv = document.getElementById('result');
                    resultDiv.innerHTML = '<h2>Prediction Result</h2>';
                    
                    resultDiv.innerHTML += '<p>Predicted Salary from Postman: $' + data.predicted_salary + '</p>';
                })
                .catch(error => {
                    console.error('Error:', error);
                });
        }        
    </script>
</body>
</html>